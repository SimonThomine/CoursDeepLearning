# English configuration
title: "Deep Learning Course"
author: Simon Thomine
logo: ../logo.png

# Execution settings
execute:
  execute_notebooks: off

# Repository information
repository:
  url: https://github.com/SimonThomine/CoursDeepLearning
  path_to_book: "en"
  branch: main

# HTML theme configuration
html:
  use_issues_button: true
  use_repository_button: true
  use_edit_page_button: true
  use_download_button: true
  announcement: "<span style=\"font-size:2em; font-weight:bold;\">🚀 从零开始学习深度学习 🚀</span>"
  extra_footer: |
    <div id="language-switcher" style="text-align: center; margin-top: 20px; padding: 10px; border-top: 1px solid #eee;">
      <span style="margin-right: 10px;">🌐 Language / Langue:</span>
      <a href="#" onclick="switchToEnglish()" style="text-decoration: none; margin: 0 5px; padding: 5px 10px; background: #4CAF50; color: white; border-radius: 5px; font-weight: bold; transition: all 0.3s;">🇺🇸 English</a>
      <a href="#" onclick="switchToFrench()" style="text-decoration: none; margin: 0 5px; padding: 5px 10px; background: #f0f0f0; border-radius: 5px; transition: all 0.3s;">🇫🇷 Français</a>
      <a href="#" onclick="switchToSpanish()" style="text-decoration: none; margin: 0 5px; padding: 5px 10px; background: #ffd700; border-radius: 5px; transition: all 0.3s;">🇪🇸 Español</a>
      <a href="#" onclick="switchToChinese()" style="text-decoration: none; margin: 0 5px; padding: 5px 10px; background: #ff4b4b; color: white; border-radius: 5px; transition: all 0.3s;">🇨🇳 中文</a>
    </div>
    <script>
    function getLangMatch() {
      // Cherche /fr/, /en/, /es/, /zh/ comme segment de chemin
      return window.location.pathname.match(/\/(fr|en|es|zh)\//);
    }

    function getBaseUrl() {
      let origin = window.location.origin;
      let pathname = window.location.pathname;
      let match = getLangMatch();
      if (match) {
        // Prend tout avant le segment de langue
        return origin + pathname.substring(0, match.index + 1);
      }
      // Sinon, retourne le chemin courant
      return origin + pathname.substring(0, pathname.lastIndexOf('/') + 1);
    }

    function getCurrentPage() {
      let match = getLangMatch();
      if (match) {
        // Prend tout après le segment de langue
        return window.location.pathname.substring(match.index + match[0].length) || 'index.html';
      }
      return 'index.html';
    }

    function switchToEnglish() {
      const baseUrl = getBaseUrl();
      const currentPage = getCurrentPage();
      window.location.href = baseUrl + 'en/' + currentPage;
    }

    function switchToFrench() {
      const baseUrl = getBaseUrl();
      const currentPage = getCurrentPage();
      window.location.href = baseUrl + 'fr/' + currentPage;
    }

    function switchToSpanish() {
      const baseUrl = getBaseUrl();
      const currentPage = getCurrentPage();
      window.location.href = baseUrl + 'es/' + currentPage;
    }

    function switchToChinese() {
      const baseUrl = getBaseUrl();
      const currentPage = getCurrentPage();
      window.location.href = baseUrl + 'zh/' + currentPage;
    }
    </script>

# MyST configuration
parse:
  myst_enable_extensions:
    - amsmath
    - dollarmath
    - html_admonition
    - linkify
    - substitution